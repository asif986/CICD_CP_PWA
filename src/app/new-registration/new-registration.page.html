<ion-header>
    <ion-toolbar color="color_d">
        <ion-row>
            <ion-col>
                <div>
                    <ion-buttons slot="start" style="margin-left: 3%">
                        <i class="material-icons icon" (click)="goback()">arrow_back_ios</i>
                    </ion-buttons>
                </div>
            </ion-col>
            <ion-col style="text-align: start;margin-left: -30px!important;">
                <div>
                    <ion-title class="TITLETOOLBAR" style="margin-left: -40px!important;">Registration</ion-title>
                </div>
            </ion-col>
            <ion-col style="text-align: end;margin-right: 10px;">
                <img src="assets/channelPartner_Icons/vjd_Logos/vj_logo.svg" class='srcIMGLOGO' style="text-align: right;width: 37%!important;">
            </ion-col>
        </ion-row>
    </ion-toolbar>
</ion-header>


<ion-content class="background-color">
    <div class="col-md-12 col-lg-12 pt-5 ion-text-center">
        <img src="assets/channelPartner_Icons/vjd_Logos/VJLOGO.png" class="img-responsive header-logo">
    </div>
    <ion-grid>
        <ion-row>
            <ion-col size="10" offset="1">
                <p class="mb-0 text-center">Channel Partner Application</p>
                <p class="mb-0 pt-3 text-center">{{headrarr[headrindex]}}</p>
            </ion-col>
            <!-- <ion-col size="6"></ion-col> -->
        </ion-row>
        <!--First Name-->
        <!--Two mat-form-field in one line-->
        <ion-row>
            <!-- <ion-col size="3" style="margin-top: 3px!important;">
          <mat-form-field appearance="outline" style="width:100%;margin-left: 5px">
              <mat-label class="inputtextfield">Mr/Mrs</mat-label>
              <mat-select class="inputtextfield">
                  <mat-option *ngFor="let nameprefix of newRegistration.person_name_prefix let i= index" [value]="nameprefix.name_prefix_id" (click)="getNamePrefixvalue(i)">
                      {{nameprefix.name_prefix}}
                  </mat-option>
              </mat-select>
          </mat-form-field>
      </ion-col> -->
            <ion-col size="10" offset="1" *ngIf="headrindex==0" [formGroup]="personaldetailsForm">
                <mat-form-field appearance="outline" class="inputtextfield">
                    <!-- <mat-label class="inputtextfield">First Name</mat-label> -->
                    <input [formControl]="personaldetailsForm.controls['firstName']" placeholder="First Name" matInput type="text" class="inputtextfield" [(ngModel)]="newRegistration.first_name" required>
                    <mat-hint>
                        <div *ngIf="!personaldetailsForm.controls.firstName.valid &&
      personaldetailsForm.controls.firstName.dirty" class="error">
                            Please enter a valid firstName!.
                        </div>
                    </mat-hint>
                </mat-form-field>

                <!--Middle Name-->
                <div>
                    <mat-form-field appearance="outline">
                        <!-- <mat-label class="inputtextfield">Middle Name</mat-label> -->
                        <input [formControl]="personaldetailsForm.controls['middlename']" matInput type="text" class="inputtextfield" [(ngModel)]="newRegistration.middle_name" required placeholder="Middle Name">
                        <mat-hint>
                            <div *ngIf="!personaldetailsForm.controls.middlename.valid &&
        personaldetailsForm.controls.middlename.dirty" class="error">
                                Please enter a valid middlename!.
                            </div>
                        </mat-hint>
                    </mat-form-field>
                </div>

                <!--Last Name-->
                <div>
                    <mat-form-field appearance="outline">
                        <!-- <mat-label class="inputtextfield">Last Name</mat-label> -->
                        <input [formControl]="personaldetailsForm.controls['lastname']" matInput type="text" class="inputtextfield" [(ngModel)]="newRegistration.last_name" required placeholder="Last Name">
                        <mat-hint>
                            <div *ngIf="!personaldetailsForm.controls.lastname.valid &&
        personaldetailsForm.controls.lastname.dirty" class="error">
                                Please enter a valid lastname!.
                            </div>
                        </mat-hint>
                    </mat-form-field>
                </div>
                <div>
                    <mat-form-field appearance="outline" style="">
                        <!-- <mat-label class="inputtextfield">Mobile Number</mat-label> -->
                        <input matInput [readonly]="read" [formControl]="personaldetailsForm.controls['mobile']" type="number" class="inputtextfield" required placeholder="Mobile Number">
                        <mat-hint>
                            <div *ngIf="!personaldetailsForm.controls.mobile.valid && personaldetailsForm.controls.mobile.dirty" class="error">
                                Please enter a valid mobile number.
                            </div>
                        </mat-hint>
                    </mat-form-field>
                </div>
                <div *ngIf="!alive" style="align-content: center!important;alignment: center!important;text-align: center!important;justify-content: center!important;">
                    <button mat-stroked-button class="Resendbuttons" [disabled]="!personaldetailsForm.controls.mobile.valid" (click)="click(personaldetailsForm.value) ">Verify</button>
                </div>
                <div *ngIf="!hideMe">
                    <div *ngIf="alive">
                        <div>
                            <mat-form-field appearance="outline">
                                <mat-label class="newusertext">OTP</mat-label>
                                <input matInput name="otptext" [(ngModel)]="loginifo.confirmotp" type="text" [formControl]="personaldetailsForm.controls['otp']" class="inputtextfield">
                            </mat-form-field>
                            <div class="ion-text-center">
                                <button mat-stroked-button class="registerbutton" (click)="verifyConfirmOtp(personaldetailsForm.value)" style="margin-bottom: 10px!important;" required>Submit OTP</button>
                            </div>
                        </div>
                        <div>
                            <div id="otpMessage" class="inputtextfield" style="margin-left: 20px!important;margin-top: 5px!important;">
                                <mat-label class="inputtextfield">In case you didn't received an OTP in 7 seconds retry here.</mat-label>
                            </div>

                            <!--Register Button-->
                            <div class="ion-text-center" style="margin-top: 10px!important;">
                                <button mat-stroked-button class="Resendbuttons" [disabled]="disabled" [style.background-color]="this.color1 === true ? '#a5a5a5' : '#F5A22C'" (click)="ResendOtp()">Resend OTP</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <mat-form-field appearance="outline">
                        <!-- <mat-label class="inputtextfield">Email Address</mat-label> -->
                        <input matInput [formControl]="personaldetailsForm.controls['email']" [(ngModel)]="newRegistration.email" type="email" class="inputtextfield" required placeholder="Email">
                        <mat-hint>
                            <div *ngIf="!personaldetailsForm.controls.email.valid && personaldetailsForm.controls.email.dirty" class="error">
                                Please enter a valid Email!.
                            </div>
                        </mat-hint>
                    </mat-form-field>
                </div>
                <!-- <div class="input-field"> -->
                <!--Enter Password-->
                <div>
                    <mat-form-field appearance="outline">
                        <!-- <mat-label class="inputtextfield">Password</mat-label> -->
                        <input matInput [type]="getType()" [formControl]="personaldetailsForm.controls['password']" [(ngModel)]="newRegistration.password" name="password" class="inputtextfield" required placeholder="Password">
                        <button mat-button style="color: var(--ion-color-medium-tint)" matSuffix mat-icon-button aria-label="Clear" (click)="toggleTextPassword()">
                          <mat-icon><ion-icon [name]="isActiveToggleTextPassword ? 'eye-off' :'eye'" ></ion-icon></mat-icon>
                        </button>
                    </mat-form-field>
                </div>
                <!-- </div> -->
                <button mat-button class="common-btn" (click)="processedtobankdetails()" routerDirection="forward">Proceed to  Business Details</button><br>

            </ion-col>
            <ion-col size="10" offset="1" *ngIf="headrindex==1">
                <form [formGroup]="businessDetails">

                    <mat-radio-group aria-label="Select an option" formControlName="org" class="d-flex justify-content-around pt-4 pb-4">
                        <mat-radio-button [value]="'1'" (change)="changeOrg(1)" checked="true">CP Entitiy</mat-radio-button>
                        <mat-radio-button [value]="'2'" (change)="changeOrg(2)">FOS</mat-radio-button>
                    </mat-radio-group>
                    <mat-form-field appearance="outline">
                        <!-- <mat-label class="inputtextfield" required>Channel </mat-label> -->
                        <!-- [(ngModel)]="newRegistration.name"Partner Name -->
                        <input matInput type="text" formControlName="name" class="inputtextfield" required placeholder="CP Name">
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                        <!-- <mat-label class="inputtextfield" required>Billing </mat-label> -->
                        <!-- [(ngModel)]="newRegistration.billing_name"Name -->
                        <input matInput type="text" formControlName="billing_name" class="inputtextfield" required placeholder="Billing Name">
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                        <!-- <mat-label class="inputtextfield" required>Rera Num</mat-label> -->
                        <!-- [(ngModel)]="newRegistration.rera_no"ber -->
                        <input matInput type="text" formControlName="rera_no" class="inputtextfield" placeholder="Rera Number">
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                        <!-- <mat-label class="inputtextfield" required>PAN </mat-label> -->
                        <!-- [(ngModel)]="newRegistration.pan_no" -->
                        <input style="text-transform: uppercase!important;" matInput formControlName="pan_no" type="text" class="inputtextfieldPANGST" required placeholder="PAN Number">
                        <mat-hint>
                            <div *ngIf="!businessDetails.controls.pan_no.valid && businessDetails.controls.pan_no.dirty" class="error">
                                Please enter a valid PAN!.
                            </div>
                        </mat-hint>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                        <!-- <mat-label class="inputtextfield" required>GST Number</mat-label> -->
                        <!-- [(ngModel)]="newRegistration.gst_no" -->
                        <input style="text-transform: uppercase!important;" matInput formControlName="gst_no" type="text" class="inputtextfieldPANGST" (input)="gstNo()" placeholder="GST Number">
                        <mat-hint>
                            <div *ngIf="!businessDetails.controls.gst_no.valid && businessDetails.controls.gst_no.dirty" class="error">
                                Please enter a valid GST!.
                            </div>
                        </mat-hint>
                    </mat-form-field>
                    <button mat-button class="common-btn" (click)="submitBankDetails()" routerDirection="forward">Submit</button><br>
                </form>
            </ion-col>
            <ion-col size="10" offset="1" *ngIf="headrindex==2">
                <form [formGroup]="bankdetails">
                    <mat-form-field appearance="outline">
                        <!-- <mat-label class="inputtextfield">Bank Name</mat-label> "newRegistration."-->
                        <input matInput type="text" class="inputtextfield" formControlName="bank_name" required placeholder="Bank Name">
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                        <!-- <mat-label class="inputtextfield">Branch Name</mat-label> "newRegistration."-->
                        <input matInput type="text" class="inputtextfield" formControlName="bank_branch_name" required placeholder="Branch Name">
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                        <!-- <mat-label class="inputtextfield">Account Number</mat-label> "newRegistration."-->
                        <input matInput type="number" class="inputtextfield" formControlName="account_number" required placeholder="Account Number">
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                        <!-- <mat-label class="inputtextfield">IFSC Number</mat-label> "newRegistration." [formControl]="credentialsForm.controls['ifsc']"-->
                        <input style="text-transform: uppercase;" autocapitalize="on" matInput formControlName="iffc_code" type="text" class="inputtextfield" required placeholder="IFSC Number">
                        <mat-hint>
                            <div *ngIf="!credentialsForm.controls.ifsc.valid && credentialsForm.controls.ifsc.dirty" class="error">
                                Please enter a valid IFSC Code!.
                            </div>
                        </mat-hint>
                    </mat-form-field>
                    <!-- [(ngModel)]="isChecked" -->
                    <mat-checkbox formControlName="isChecked" (click)="openDialog()" style="margin-left: 5%!important;padding-top: 5%!important;margin-top: 10%!important;" class="newusertext">I accept terms & condition</mat-checkbox>
                    <div class="ion-text-center pt-5">
                        <button mat-raised-button class="common-btn" (click)="submitdata()" routerDirection="forward ">Register</button><br>
                    </div>
                    <ion-img class="pt-2" src="assets/channelPartner_Icons/vjd_Logos/register.png"></ion-img>
                </form>
            </ion-col>
        </ion-row>
    </ion-grid>
    <!--Header Of Presonal Details-->
    <!-- <div class="personal-details ">
        <ion-label>Personal Details</ion-label>
    </div> -->
    <!--Enter Mobile Number With Country Code-->
    <ion-row>
        <!-- <ion-col size="3 " class="ion-text-center ">
            <div class="countrycode " style="width: 100%;margin-right: 10px ">
                <mat-label class="countrycodetext ">
                    +91
                </mat-label>
            </div>
        </ion-col> -->

    </ion-row>


    <!--Email ID-->





    <!-- <mat-divider class="divider "></mat-divider> -->
    <!--Expand Panel for Business Details-->
    <!--Radio Button for Organisation and Person-->


    <!--Company Name-->
    <div>
        <!--[hidden]="relativeDiv "-->

    </div>

    <!--Billing Name-->
    <div>
    </div>


    <!--Rera Number-->
    <div>
    </div>

    <!--PAN Number-->
    <div>
    </div>

    <!--GST Number-->
    <div>
    </div>

    <!--Expand Panel for Bank Details-->
    <!-- <mat-expansion-panel style="padding-top: 10px!important;box-shadow:none!important;padding-bottom: 10px!important;margin-bottom: 5px!important;margin-top: 5px!important "> -->

    <!-- <mat-expansion-panel-header>
            <mat-panel-title class="mat-panel-title " style="margin-top: 30px;margin-bottom: 30px ">
                Bank Details
            </mat-panel-title>
        </mat-expansion-panel-header> -->


    <!--Bank Name-->
    <div>

    </div>

    <!--Branch Name-->
    <div>
    </div>


    <!--Account Number-->
    <div>
    </div>

    <!--IFSC Number-->
    <div>
    </div>

    <!-- </mat-expansion-panel> -->


    <!-- <mat-divider></mat-divider> -->

    <!--Expand Panel for  KYC Documents-->
    <!--KYC Documents-->
    <!--       <div class="newusertext " class="inputtextfield ">
<ion-label class="inputtextfield ">{{kycdoc.docs_type}}</ion-label>
&lt;!&ndash; <p class="newusertext1 ">
{{kycdoc.doc_path}}
</p>&ndash;&gt;
<img class="centered " src={{kycdoc.doc_path}}>
</div>-->
    <!-- <img class="centered " src={{kycdoc.doc_path}}>-->
    <!-- <mat-expansion-panel style="padding-top: 10px!important;box-shadow:none!important;padding-bottom: 10px!important;margin-bottom: 5px!important;margin-top: 5px!important; ">

        <mat-expansion-panel-header>
            <mat-panel-title class="mat-panel-title " style="margin-top: 30px;margin-bottom: 30px ">
                KYC Documents
            </mat-panel-title>
        </mat-expansion-panel-header>
        
        <ion-list>
            <ion-card style="box-shadow: none!important; " *ngFor="let kycdoc of newRegistration.kyc_doc_types ">
                <ion-grid>
                    <ion-row (click)="presentActionSheet(kycdoc.doc_type_id) ">
                        <ion-col class="ion-text-start " size="9 ">
                            <div class="inputtextfield " class="inputtextfield ">
                                <ion-label class="inputtextfield ">{{kycdoc.docs_type}}</ion-label>
                                <p class="inputtextfield " class="inputtextfield " style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis; ">{{kycdoc.doc_path}}</p>
                            </div>
                        </ion-col>
                        <ion-col class="ion-text-end " size="3 ">
                            <div>
                                <ion-icon style="margin-top: 5px;zoom: 2.0 " name="attach "></ion-icon>
                            </div>
                        </ion-col>
                    </ion-row>
                </ion-grid>
                <mat-divider></mat-divider>

            </ion-card>
        </ion-list>
    </mat-expansion-panel> -->
    <!-- <mat-divider style="margin-bottom: 10%!important; "></mat-divider> -->

</ion-content>